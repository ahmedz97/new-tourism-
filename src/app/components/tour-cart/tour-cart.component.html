<div
  [routerLink]="['/tour', tour.slug]"
  role="button"
  [ngClass]="
    layoutType === 'grid'
      ? 'row gx-3 mb-3 flex-column'
      : 'row gx-3 mb-3 flex-wrap'
  "
  class="item align-items-center rounded-4 overflow-hidden border transition bg-white mx-2"
>
  <div [ngClass]="layoutType === 'grid' ? '' : ' col-md-5'" class="px-0">
    <figure class="rounded-2 overflow-hidden position-relative mb-0">
      <img
        [src]="tour.featured_image"
        class="w-100"
        height="200px"
        [alt]="tour.title"
        [title]="tour.title"
        loading="lazy"
      />
      <button
        (click)="addFav(tour.id, $event)"
        class="mainBtn Btn border-0 position-absolute top-0 end-0 p-0 m-2 rounded-circle"
      >
        <i
          [ngClass]="{
            'fa-heart': true,
            'fa-regular': !favouriteIds.includes(tour.id),
            'fa-solid': favouriteIds.includes(tour.id)
          }"
          class="fa fa-heart bg-transparent text-white"
        ></i>
      </button>

      <!-- @if (tour.featured) {
      <span
        class="text-uppercase text-whit py-0 px-2 m-1 m-2 secBtn Btn position-absolute top-0 start-0"
        >{{ 'common.featured' | translate }}</span
      >
      } -->
    </figure>
  </div>

  <div [ngClass]="layoutType === 'grid' ? '' : ' col-md-7'" class="p-2">
    <figcaption>
      <div class="flexBetween mb-2">
        <div class="my-2 fontsm">
          <span *ngFor="let filled of getStars(tour.rate)">
            <i
              [ngClass]="
                filled
                  ? 'fa fa-star text-warning'
                  : 'fa-regular fa-star text-warning'
              "
            ></i>
          </span>
          <br />
          <span class="textMainColor text-capitalize me-2">{{
            getReviewQualityText()
          }}</span>
          <span class="textSecondColor"> ({{ getReviewCount() }} Reviews)</span>
        </div>

        <p class="mb-0">
          <span>{{ "common.perPersonFrom" | translate }}:</span><br />
          <b class="textMainColor fs-5">{{ tour.start_from | currency }}</b>
        </p>
      </div>

      <h3
        [routerLink]="['/tour', tour.slug]"
        class="text-capitalize transition cPointer h5"
      >
        {{ tour.title }}
      </h3>

      <div class="text-muted pt-2 border-top text-capitalize">
        <!-- destination - duration -->
        <div class="fontsm d-flex flex-column">
          <span class="me-2 my-1">
            <i class="fa fa-location-dot me-1 textSecondColor"></i>
            {{ getDestinationText() }}
          </span>
          <span class="me-2 my-1">
            <i class="fa fa-calendar-days me-1 textSecondColor"></i>
            {{ tour.duration }}
          </span>
        </div>

        <!-- <button
          class="secBtn Btn fs-5 py-1"
          [routerLink]="['/tour', tour.slug]"
        >
          {{ "common.seeMore" | translate }}
        </button> -->
      </div>
    </figcaption>
  </div>
</div>
